#:kivy 1.9.2
#:import utils kivy.utils

ScreenManager:
    Home:
    Guide:
    NewReading:

<Home>:
    name: 'home'
    FloatLayout:
        padding: 100, 20, 100, 20
        canvas:
            Color: 
                rgba: utils.get_color_from_hex('#293540')
            Rectangle:
                size: self.size
                pos: self.pos
        BoxLayout:
            orientation: 'vertical'
            size_hint: None, None
            size: 600, 400
            center: root.center
            padding: 100, 20, 100, 20
            spacing: 20
            Image:
                id: 'logo'
                source: './img/logo.png'
                size: self.texture_size
            Label:
                id: 'legend'
                text: 'Software de leitura de imagens a partir de visão computacional.'
                font_size: 22
                canvas.before:
                    Color:
                        rgba: utils.get_color_from_hex('#EEE')
            BtnPrimary:
                text: 'Acessar guia do tsi.py'
                font_size: 32
                size: 436, 72
                size_hint: None, None
                on_release: app.root.current = 'guide'
            BtnPrimary:
                text: 'Realizar nova leitura'
                font_size: 32
                size: 436, 72
                size_hint: None, None
                on_release: app.root.current = 'newReading'
<Guide>:
    name: 'guide'

    BoxLayout:
        orientation: 'vertical'
        canvas:
            Color: 
                rgb: (0.96, 0.96, 0.96, 0.96)
            Rectangle:
                size: self.size
                pos: self.pos
        ActionBar:
            background_color: (0.3, 0.46, 0.61, 1)
            background_image: ''
            ActionView:
                ActionPrevious: 
                    title: ''
                    app_icon: ''
                    on_release: 
                        app.root.current = 'home'
                        root.manager.transition.direction: 'right'

<NewReading>:
    name: 'newReading'
    BoxLayout:
        orientation: 'vertical'
        canvas:
            Color: 
                rgb: (0.96, 0.96, 0.96, 0.96)
            Rectangle:
                size: self.size
                pos: self.pos
        ActionBar:
            background_color: (0.3, 0.46, 0.61, 1)
            background_image: ''
            ActionView:
                ActionPrevious: 
                    title: 'oi'
                    app_icon: ''
                    on_release: 
                        app.root.current = 'home'
                        root.manager.transition.direction: 'right'
        Label:
            id: 'title'
            text: 'Nova leitura'
            color: .2, .2, .2, 1

        BoxLayout:
            orientation: 'horizontal'
            padding: 16
            spacing: 12

            BoxLayout:
                orientation: 'vertical'
                spacing: 12

                Label:
                    id: ''
                    text: 'Selecione o formato do arquivo:'
                    color: .2, .2, .2, 1
                BoxLayout:
                    orientation: 'horizontal'
                    spacing: 12
                    BtnPrimary:
                        text: 'Imagem'
                        font_size: 22
                        size_hint: (1, 1.5)
                    BtnPrimary:
                        text: 'Vídeo'
                        font_size: 22
                        size_hint: (1, 1.5)
                Label: 
                    id: ''
                    text: 'O que deseja fazer?'
                    color: (.2, .2, .2, 1)
                    
                BoxLayout:
                    orientation: 'horizontal'
                    spacing: 12

                    BtnPrimary:
                        text: 'Upload'
                        font_size: 22
                        size_hint: (1, 1.5)
                    BtnPrimary:
                        text: 'Link'
                        font_size: 22
                        size_hint: (1, 1.5)
                BtnPrimary: 
                    text: 'Realizar leitura'
                    font_size: 24
                    size_hint: (1, 2)
                BoxLayout:
                    orientation: 'horizontal'
                    spacing: 12

                    BtnPrimary:
                        text: 'Copiar texto'
                        font_size: 22
                        size_hint: (1, 1.5)
                    BtnPrimary:
                        text: 'Salvar como pdf'
                        font_size: 22
                        size_hint: (1, 1.5)

            BoxLayout:
                orientation: 'vertical'
                spacing: 12

                Image:
                    source: './img/background.jpg'
                    size: self.texture_size
                Label:
                    id: 'result'
                    color: (.2, .2, .2, 1)
                    background_color: (0.89, 0.89, 0.89, 0.89)

<BtnPrimary@Button>:
    font_family: 'Arial'
    color: (.2, .2, .2, 1)
    background_color: 0, 0, 0, 0
    background_normal: ''
    on_release: 
        self.background_color = utils.get_color_from_hex('#E495B1')
    canvas.before:
        Color:
            rgba: utils.get_color_from_hex('#E495B1')
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: [5]